---
title: "apostrophe-assets (module)"
children:

---
## Inherits from: [apostrophe-module](../apostrophe-module/index.html)

## Methods
### determineGeneration()

### push(*type*, *name*, *options*, *context*)
This method pushes assets to be delivered to the browser
on every page load.

You should be calling the pushAsset method of your module,
not this one. It is part of the implementation of the
pushAsset method of apostrophe-module, the base class
of all modules.

But if you really wanted to, you'd have to do this...

self.pushAsset('template', 'foo', {
  when: 'always'
},
{
  dirname: '/path/to/module',
  name: 'apostrophe-modulename',
  data: { passed to template }
})

Or:

self.pushAsset('template', function(req, data) {}, {
  when: 'always',
  data: { passed to function }
})
Other types: 'stylesheet', 'script'. Unlike 'template' these
may not be generated by a function.
Templates not generated by a function are loaded from
the module's views/ folder.
Stylesheets are loaded from the module's public/css folder.
Scripts are loaded from the module's public/js folder.
Do not supply the file extension.
It is acceptable to push an asset more than once. Only one copy
is sent, at the earliest point requested.

Returns true if an acceptable source file or function for the asset
exists, otherwise false.
### purgeExcept(*pattern*, *exceptSubstring*)
Purge files from public folder matching the glob pattern
`pattern`, excepting those with names containing
`exceptSubstring`.
### afterInit(*callback*)
Wait until the last possible moment - after all modules
have been initialized, *and* notified of each other's
initialization - to symlink public/modules subdirectories,
build master LESS files, and minify (if desired). This
allows other modules to wait until they can talk to
each other (modulesReady) before pushing assets.
### ensureFolder()

### symlinkModules(*callback*)

### buildLessMasters(*callback*)

### minify(*callback*)

### outputAndBless(*callback*)

### forAllAssetScenes(*each*, *callback*)
Iterate over all asset scenes. Right now just anon, user
### minifySceneAssetType(*scene*, *type*, *minifier*, *callback*)
Minify assets required for a particular scene and populate
self.minified appropriately. Supports dot notation in "scene"
for scene upgrades. Implements md5-based caching for the really
expensive javascript minification step.
### minifyStylesheet(*stylesheet*, *callback*)

### minifyScript(*script*, *callback*)
Minify a single JavaScript file (via the script.file property)
### compileStylesheet(*stylesheet*, *callback*)

### filterAssets(*assets*, *when*, *minifiable*)
Part of the implementation of self.afterInit, this method
returns only the assets that are suitable for the specified
scene (`user` or `anon`). Duplicates are suppressed automatically
for anything rendered from a file (we can't do that for things
rendered by a function).

If minifiable is true you get back the assets that can be minified;
if set false you get those that cannot; if it is not specified
you get both.
### getChain(*name*)
Fetch an asset chain by name. Note that the
name of the chain for a project-level override
of the "foo" module is "my-foo". Otherwise it
is the name of the module.
### pushDefaults()

### modulesReady()

### pushConfigured()

### renderTemplateAsset(*req*, *asset*)
Render a template asset (a DOM template), taking the
locale into account correctly for i18n
### assetKey(*asset*)
Return a string that uniquely identifies this asset for purposes of
determining whether two scenes both contain it. Not guaranteed to
be a particularly short string. Not currently implemented
for DOM templates
### splitWithBless(*filename*, *content*)

### prefixCssUrls(*css*)
Prefix all URLs in CSS with the global site prefix
